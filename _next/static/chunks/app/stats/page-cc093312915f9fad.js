(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{2769:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(5155),r=t(2115),c=t(9946);let i=(0,c.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var l=t(9074);let n=(0,c.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),d=(0,c.A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),o=(0,c.A)("git-commit-horizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]),x=(0,c.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),m=(0,c.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=t(6874),p=t.n(h);function u(){let[e,s]=(0,r.useState)(null),[t,c]=(0,r.useState)({countdown:{totalDays:0,remainingDays:0,progressPercentage:0,isEventPassed:!1},sponsorship:{current:0,target:0,percentage:0,currency:"TWD",lastUpdated:""},cfp:{current:0,target:0,percentage:0,lastUpdated:""},github:{commits:0,isLoading:!0,error:null},gitlab:{issues:0,isLoading:!0,error:null},hackmd:{views:0,isLoading:!0,error:null}});return((0,r.useEffect)(()=>{fetch("/2026/data/stats-config.json").then(e=>e.json()).then(e=>{s(e);let t=e.sponsorship.current_amount/e.sponsorship.target_amount*100,a=e.cfp.current_submissions/e.cfp.target_submissions*100;c(s=>({...s,sponsorship:{current:e.sponsorship.current_amount,target:e.sponsorship.target_amount,percentage:t,currency:e.sponsorship.currency,lastUpdated:e.sponsorship.last_updated},cfp:{current:e.cfp.current_submissions,target:e.cfp.target_submissions,percentage:a,lastUpdated:e.cfp.last_updated}}))}).catch(e=>{console.error("Error loading config:",e)})},[]),(0,r.useEffect)(()=>{if(!e)return;let s=()=>{let s=new Date(e.project_info.start_date),t=new Date(e.project_info.event_date),a=new Date,r=Math.ceil((t.getTime()-s.getTime())/864e5),i=Math.ceil((t.getTime()-a.getTime())/864e5),l=Math.max(0,Math.min(100,(r-i)/r*100));c(e=>({...e,countdown:{totalDays:r,remainingDays:Math.max(0,i),progressPercentage:l,isEventPassed:a>t}}))};s();let t=setInterval(s,36e5);return()=>clearInterval(t)},[e]),(0,r.useEffect)(()=>{e&&(async()=>{try{c(e=>({...e,github:{...e.github,isLoading:!0,error:null}}));let s=await fetch("https://api.github.com/repos/".concat(e.project_info.github_repo,"/commits?per_page=1"));if(!s.ok)throw Error("GitHub API error: ".concat(s.status));let t=s.headers.get("Link"),a=1;if(t){let e=t.match(/page=(\d+)>; rel="last"/);e&&(a=parseInt(e[1]))}c(e=>({...e,github:{commits:a,isLoading:!1,error:null}}))}catch(e){console.error("Error fetching GitHub commits:",e),c(s=>({...s,github:{commits:0,isLoading:!1,error:e instanceof Error?e.message:"Unknown error"}}))}})()},[e]),(0,r.useEffect)(()=>{e&&(async()=>{try{c(e=>({...e,gitlab:{...e.gitlab,isLoading:!0,error:null}}));let s=await fetch("https://gitlab.com/api/v4/projects/".concat(encodeURIComponent(e.project_info.gitlab_project_id),"/issues?state=opened&per_page=100"));if(!s.ok)throw Error("GitLab API error: ".concat(s.status));let t=await s.json();c(e=>({...e,gitlab:{issues:t.length,isLoading:!1,error:null}}))}catch(e){console.error("Error fetching GitLab issues:",e),c(s=>({...s,gitlab:{issues:0,isLoading:!1,error:e instanceof Error?e.message:"Unknown error"}}))}})()},[e]),(0,r.useEffect)(()=>{(async()=>{try{c(e=>({...e,hackmd:{...e.hackmd,isLoading:!0,error:null}}));let e=encodeURIComponent("https://hackmd.io/@SITCON/2026-recruit"),s=await fetch("".concat("https://corsproxy.io/?url=").concat(e));if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let t=(await s.text()).match(/window\.publishProps\s*=\s*JSON\.parse\(`([^`]+)`\)/),a=0;if(t&&t[1])try{let e=t[1].match(/"viewCount":(\d+)/);e&&e[1]&&(a=parseInt(e[1],10))}catch(e){console.error("Error parsing publishProps JSON:",e)}c(e=>({...e,hackmd:{views:a,isLoading:!1,error:null}}))}catch(e){console.error("Error fetching HackMD views:",e),c(e=>({...e,hackmd:{views:0,isLoading:!1,error:"CORS 限制，無法自動抓取數據"}}))}})()},[]),e)?(0,a.jsxs)("div",{className:"min-h-screen bg-background text-foreground p-4 lg:p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl lg:text-5xl font-bold",children:"SITCON 2026 數據一覽"}),(0,a.jsx)("p",{className:"text-text-muted mt-2",children:"讓你看到 SITCON 2026 有沒有快燒起來了"})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,a.jsxs)("button",{onClick:()=>{window.location.reload()},className:"liquid-glass-btn secondary",title:"刷新數據",children:[(0,a.jsx)(i,{className:"w-4 h-4"}),"刷新"]}),(0,a.jsx)(p(),{href:"/",className:"liquid-glass-btn primary",children:"回到首頁"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 lg:gap-8",children:[(0,a.jsxs)("div",{className:"stats-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(l.A,{className:"w-6 h-6 text-blue-400"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"年會倒數"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl lg:text-6xl font-bold text-blue-400 mb-2",children:t.countdown.isEventPassed?"已結束":t.countdown.remainingDays}),!t.countdown.isEventPassed&&(0,a.jsx)("div",{className:"text-text-muted",children:"天後開始"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-text-secondary",children:[(0,a.jsx)("span",{children:e.project_info.start_date}),(0,a.jsxs)("span",{children:[t.countdown.progressPercentage.toFixed(1),"%"]}),(0,a.jsx)("span",{children:e.project_info.event_date})]}),(0,a.jsx)("div",{className:"w-full bg-zinc-800 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-400 rounded-full transition-all duration-1000 ease-out",style:{width:"".concat(t.countdown.progressPercentage,"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-text-secondary",children:[(0,a.jsx)("span",{children:"籌備開始"}),(0,a.jsx)("span",{children:t.countdown.isEventPassed?"已完成":"進行中"}),(0,a.jsx)("span",{children:"年會舉辦"})]})]})]})]}),(0,a.jsxs)("div",{className:"stats-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(n,{className:"w-6 h-6 text-yellow-400"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"贊助進度"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-4xl lg:text-6xl font-bold text-yellow-400 mb-2",children:[t.sponsorship.current.toLocaleString()," ",t.sponsorship.currency]}),(0,a.jsxs)("div",{className:"text-text-muted text-sm",children:["目標: ",t.sponsorship.target.toLocaleString()," ",t.sponsorship.currency]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"達成率"}),(0,a.jsxs)("span",{className:"text-yellow-400 font-semibold",children:[t.sponsorship.percentage.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-zinc-800 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-yellow-500 to-yellow-400 rounded-full transition-all duration-1000 ease-out",style:{width:"".concat(Math.min(100,t.sponsorship.percentage),"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-text-secondary text-right",children:["最後更新: ",t.sponsorship.lastUpdated]})]})]})]}),(0,a.jsxs)("div",{className:"stats-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(d,{className:"w-6 h-6 text-purple-400"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"稿件徵收"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-4xl lg:text-6xl font-bold text-purple-400 mb-2",children:[t.cfp.current.toLocaleString()," 篇"]}),(0,a.jsxs)("div",{className:"text-text-muted text-sm",children:["目標: ",t.cfp.target.toLocaleString()," 篇"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"完成率"}),(0,a.jsxs)("span",{className:"text-purple-400 font-semibold",children:[t.cfp.percentage.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-zinc-800 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-400 rounded-full transition-all duration-1000 ease-out",style:{width:"".concat(Math.min(100,t.cfp.percentage),"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-text-secondary text-right",children:["最後更新: ",t.cfp.lastUpdated]})]})]})]}),(0,a.jsxs)("div",{className:"stats-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(o,{className:"w-6 h-6 text-green-400"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"官網 GitHub Commits"})]}),(0,a.jsx)("div",{className:"text-center",children:t.github.isLoading?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-text-muted",children:[(0,a.jsx)(i,{className:"w-4 h-4 animate-spin"}),"載入中..."]}):t.github.error?(0,a.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,a.jsx)(x,{className:"w-8 h-8 mx-auto"}),(0,a.jsx)("div",{className:"text-sm",children:"載入失敗"}),(0,a.jsx)("div",{className:"text-xs text-text-muted",children:t.github.error})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-4xl lg:text-6xl font-bold text-green-400 mb-2",children:t.github.commits}),(0,a.jsx)("div",{className:"text-text-muted",children:"次"})]})}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(p(),{href:"https://github.com/".concat(e.project_info.github_repo),target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:text-green-300 text-sm underline",children:"查看專案"})})]}),(0,a.jsxs)("div",{className:"stats-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(x,{className:"w-6 h-6 text-orange-400"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"籌備 GitLab Issues"})]}),(0,a.jsx)("div",{className:"text-center",children:t.gitlab.isLoading?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-text-muted",children:[(0,a.jsx)(i,{className:"w-4 h-4 animate-spin"}),"載入中..."]}):t.gitlab.error?(0,a.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,a.jsx)(x,{className:"w-8 h-8 mx-auto"}),(0,a.jsx)("div",{className:"text-sm",children:"載入失敗"}),(0,a.jsx)("div",{className:"text-xs text-text-muted",children:t.gitlab.error})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-4xl lg:text-6xl font-bold text-orange-400 mb-2",children:t.gitlab.issues}),(0,a.jsx)("div",{className:"text-text-muted",children:"張"})]})}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(p(),{href:"https://gitlab.com/".concat(e.project_info.gitlab_project_id,"/-/issues"),target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 hover:text-orange-300 text-sm underline",children:"查看議題"})})]}),(0,a.jsxs)("div",{className:"stats-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(m,{className:"w-6 h-6 text-cyan-400"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"招募頁面瀏覽"})]}),(0,a.jsx)("div",{className:"text-center",children:t.hackmd.isLoading?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-text-muted",children:[(0,a.jsx)(i,{className:"w-4 h-4 animate-spin"}),"載入中..."]}):t.hackmd.error?(0,a.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,a.jsx)(x,{className:"w-8 h-8 mx-auto"}),(0,a.jsx)("div",{className:"text-sm",children:"載入失敗"}),(0,a.jsx)("div",{className:"text-xs text-text-muted",children:t.hackmd.error})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-4xl lg:text-6xl font-bold text-cyan-400 mb-2",children:t.hackmd.views.toLocaleString()}),(0,a.jsx)("div",{className:"text-text-muted",children:"次瀏覽"})]})}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(p(),{href:"https://hackmd.io/@SITCON/2026-recruit",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 text-sm underline",children:"查看招募頁面"})})]})]}),(0,a.jsxs)("div",{className:"mt-12 text-center text-text-muted text-sm",children:[(0,a.jsx)("p",{children:"數據僅供參考，基本上除了贊助進度和稿件統計外應該是實時更新才對^^ 但不排除被 429"}),(0,a.jsxs)("p",{className:"mt-1",children:["手動更新項目的配置文件位置: ",(0,a.jsx)("code",{className:"bg-zinc-800 px-2 py-1 rounded text-xs",children:"public/data/stats-config.json"})]})]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-text-muted",children:"載入配置中..."})]})})}},8562:(e,s,t)=>{Promise.resolve().then(t.bind(t,2769))}},e=>{e.O(0,[767,441,964,358],()=>e(e.s=8562)),_N_E=e.O()}]);